package jetbrains.mps.xmlUnitTest.textGen;

/*Generated by MPS */

import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.textGen.SNodeTextGen;
import org.jdom.Element;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import org.jdom.output.Format;
import org.jdom.output.XMLOutputter;
import java.io.Writer;
import java.io.StringWriter;
import org.apache.log4j.LogManager;
import org.jdom.Document;

public abstract class EscapingElementCreator extends ElementCreator {
  public static void outputLiteral(SNode xml, final SNodeTextGen textGen) {
    Element result = ElementCreator.createElement(SLinkOperations.getTarget(xml, "element", true), textGen);
    try {
      Format fmt = Format.getCompactFormat();
      XMLOutputter xmlOutputter = new XMLOutputter(fmt);
      Writer wrt = new EscapingWriter(new StringWriter());
      xmlOutputter.output(result, wrt);
      textGen.append(wrt.toString());
    } catch (Exception e) {
      LogManager.getLogger(Document.class).error(null, e);
    }
  }
}
